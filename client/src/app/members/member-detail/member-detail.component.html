<!-- @if(member)
{ -->

<div class="row">
    <div class="col-4">
        <div class="card mb-4 ">
            <img [src]= "member.photoUrl || './assets/user.png'" class="card-img-top img-thumbnail" alt="{{ member.knownAs }}">
            <div class="card-body">
                <!-- <h6 class="card-title mb-1">
                        <i class="fa fa-user me-2"></i>
                        {{ member.knownAs }}, {{ member.age }} 
                    </h6>
                    <p class="card-text text-muted mt-2">{{ member.city }}</p>
                    <a [routerLink]="['/members', member.userName]" class="btn btn-primary">View Profile</a>
                     -->
                <div>
                    <strong>Location:</strong>
                    <p>{{ member.city }} , {{ member.country }}</p>
                </div>
                <div>
                    <strong>Age:</strong>
                    <p>{{ member.age }}</p>
                </div>
                <div>
                    <strong>Last Active:</strong>
                    <p>{{ member.lastActive | timeago }}</p>
                </div>
                <div>
                    <strong>Member since:</strong>
                    <p>{{ member.created | date:'dd MMM yy' }}</p>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group d-flex">
                    <button class="btn btn-primary">Like</button>
                    <button class="btn btn-success" (click)="selectTab(4)">Message</button>
                </div>
            </div>
        </div>
    </div>



    <div class="col-8">
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" (navChange)="onTabChange($event)" class="nav-tabs member-tabset">
            <li [ngbNavItem]="1">
                <button ngbNavLink>About {{member.knownAs}}</button>
                <ng-template ngbNavContent>
                    <h1>Description</h1>
                       <p>{{ member.introduction }}</p>

                       <h1>Looking for</h1>
                       <p>{{ member.lookingFor }}</p>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <button ngbNavLink>Interests</button>
                <ng-template ngbNavContent>
                    <h1>Interests</h1>
                    <p>{{ member.interests }}</p>
                </ng-template>
            </li>
            <li [ngbNavItem]="3" >
                <button ngbNavLink >Photos</button>
                <ng-template ngbNavContent>
                    @if (images.length > 0) {
                    <gallery [items]="images" thumbPosition="bottom"></gallery>
                    } @else {
                    <p>No photos available yet.</p>
                    }
                </ng-template>
            </li>
            <li [ngbNavItem]="4">
                <button ngbNavLink>Messages </button>
                <ng-template ngbNavContent>
                    <app-member-message 
                        [username]="member.userName" 
                        [messages]="messagesList"
                        (updateMessages)="onUpdateMessages($event)"
                        ></app-member-message>
                </ng-template>
            </li>
        </ul>

        <div [ngbNavOutlet]="nav" class="mt-2"></div>
    </div>
</div>
<!-- } -->